
<body class="bg-gray-100 font-sans">

  <!-- Container -->
  <div class="max-w-6xl mx-auto p-6">

    <!-- Page Title -->
    <h1 class="text-3xl font-bold mb-6">Your Cart</h1>

    <!-- Cart Content -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

      <!-- Products List -->
      <div class="lg:col-span-2 space-y-4">
        
        <!-- Product Item -->
         
         @for (cart of this.cartService.cartProducts; track $index) {
        <div class="bg-white p-4 rounded shadow flex flex-col sm:flex-row items-center sm:items-start gap-4">
          <img [src]="cart.product.images[0]" alt="Product Image" class="w-24 h-24 object-cover rounded" />
          <div class="flex-1">
            <h2 class="text-lg font-semibold">{{cart.product.name}}</h2>
            <p class="text-sm text-gray-500">{{cart.product.shortdescription}}.</p>
            <div class="mt-2 flex items-center gap-4">
              <div class="flex items-center border rounded px-2">
                <button class="px-2 text-gray-600 hover:text-black cursor-pointer " (click)="addincart(cart.product._id,-1)" >−</button>
                <span  class="w-8 text-center border-none focus:outline-none">{{cart.quantity}}</span>
                <button class="px-2 text-gray-600 hover:text-black cursor-pointer " (click)="addincart(cart.product._id,1)" >+</button>
                
              </div>
              <div class="flex items-center justify-center space-x-2 mb-2">
                @if(cart.product.discount){
                <span class="text-gray-500 line-through">₹{{cart.product.price}}</span>
                }
                <span class="text-lg font-semibold text-green-600">₹{{sellingprice(cart.product.price,cart.product.discount)}}</span>
                @if(cart.product.discount){
                <span class="bg-yellow-400  text-black text-xs font-semibold px-2 py-1 rounded">
                  {{cart.product.discount}}% OFF
                </span>
              }
                
              </div>
              
            </div>
            <div class="text-xl border-black border-2 font-medium text-green-600 mt-2  w-40" ><span class="text-black">Total = </span>₹{{calculateSum(cart.product.price,cart.quantity)}}</div>
          </div>
          <button class="text-red-500 hover:text-red-700" (click)="removefromcart(cart.product._id)">Remove</button>
        </div>
    }

  
      </div>

      <!-- Summary -->
      <div class="bg-white p-6 rounded shadow">
        <h2 class="text-xl font-semibold mb-4">Order Summary</h2>
        <div class="space-y-2">
          <div class="flex justify-between font-semibold text-gray-900">
            <span>Total</span>
            <span>₹{{total().toLocaleString()}}</span>
          </div>
        </div>
         
        @if(isProductexist()){
        <button class="mt-6 w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition duration-200 " [routerLink]="'/Address'">
          Proceed to Checkout
         </button>
        }
        @else{
          <button class="mt-6 w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition duration-200 " (click)="Message()">
          Proceed to Checkout
         </button>
        }

        
      </div>

    </div>

  </div>

</body>

