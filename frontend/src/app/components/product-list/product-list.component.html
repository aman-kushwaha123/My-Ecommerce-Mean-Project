<body class="">
<div class="flex px-20 py-2">
    <div class="w-3/12">
        <h6>Filters</h6>
    <div class="flex flex-col px-4">
        <div class="w-full p-2">
            <mat-form-field class="w-full mb-4">
                <mat-label>Category</mat-label>
               
                    <mat-select name="categoryid" [(ngModel)]="categoryid" (valueChange)="getproducts()"> 
                        @for (category of categories; track $index) {

                            <mat-option  [value]="category._id">{{category.name}}</mat-option>
                        }
                    </mat-select>
                
              </mat-form-field>
              <mat-form-field class="w-full ">
                <mat-label>Brand</mat-label>
               
                    <mat-select name="brandid" [(ngModel)]="brandid" (valueChange)="getproducts()"> 
                        @for (item of brands; track $index) {

                            <mat-option  [value]="item._id">{{item.name}}</mat-option>
                        }
                    </mat-select>
                
              </mat-form-field>
              
              

        </div>

    </div>


    </div>
    <div class="flex-1">
        <h4 class="">Products</h4>
        <div class="flex flex-wrap gap-4">
            
            @for (item of products; track $index) {
                <div class="w-3/12 mr-4 mb-4 shadow-xl shadow-black-500">
                    <app-productcard [product]="item"></app-productcard>
                </div>
                
             }@empty{
                <h4 *ngIf="empty">No Products Found</h4>
             }
        </div>
        <div class="flex flex-wrap mt-4 justify-center">
            <button mat-raised-button   color="primary"   [disabled]="page==1" (click)="pagechange(page-1)">Previous</button>
            <button mat-raised-button  color="primary"    [disabled]="products.length<pagesize" (click)="pagechange(page+1)">Next</button>

        </div>

       

    </div>

    <mat-form-field class="w-30 h-20">
        <mat-label>Order By</mat-label>
       
            <mat-select  (valueChange)="orderBy($event)"> 
                    <mat-option [value]="1">Price Low to High</mat-option>
                    <mat-option [value]="-1">Price High to Low</mat-option>
            </mat-select>
        
      </mat-form-field>


</div> 
</body>