<div class="flex flex-col items-center px-40 mt-10">
     @if(isEdit){<h1>Update product</h1>}@else{<h1>Add new product</h1>}
     <form action="" class="shadow-sm w-96 p-4" [formGroup]="productForm">
        <div class="flex flex-wrap">
          <div class="w-full gap-4">
           
            <mat-form-field class="w-full">
               <mat-label>Category</mat-label>
               <mat-select formControlName="categoryid" >
                  @for (item of categories; track $index) {
               <mat-option [value]="item._id">{{item.name}}</mat-option>
                  }
               </mat-select>
             </mat-form-field>
             <mat-form-field class="w-full">
               <mat-label>Brand</mat-label>
               <mat-select formControlName="brandid" >
                  @for (item of brands; track $index) {
                     <mat-option [value]="item._id">{{item.name}}</mat-option>
                        }
               </mat-select>
             </mat-form-field>
            
               <mat-form-field class="w-full">
                  <mat-label>Name </mat-label>
                  <input matInput type="text" value=''  formControlName="name" >
               </mat-form-field>

               <mat-form-field class="w-full">
                <mat-label>Shortdescription </mat-label>
                <input matInput type="text"  formControlName="shortdescription"  >
             </mat-form-field>

             <mat-form-field class="w-full">
                <mat-label>Description </mat-label>
               <textarea matInput type="text" row="5" formControlName="description"></textarea> 
             </mat-form-field>

             <mat-form-field class="w-full">
                <mat-label>Price </mat-label>
                <input matInput type="number" formControlName="price" >
             </mat-form-field>
              
             <mat-form-field class="w-full">
                <mat-label>Discount </mat-label>
                <input matInput type="number"  formControlName="discount" >
             </mat-form-field>

              <div class="w-full flex gap-8">
               <mat-checkbox formControlName="isfeatured" [(ngModel)]="isfeature">isfeatured</mat-checkbox>
               <mat-checkbox  formControlName="isNewproduct" [(ngModel)]="isNewprod">isNewproduct</mat-checkbox>
              </div>
            
             <div class="w-full flex flex-col " formArrayName="images">
                <div class="flex justify-between">
                  <h4>Images</h4>
                  <button mat-raised-button color="primary"  (click)="addimage()">Add Image</button>
                  <button mat-raised-button color="primary"  (click)="removeimage()">remove Image</button>
                </div>
                @for (item of images.controls; track $index) {
                <mat-form-field class="w-full">
                    <mat-label>Images {{$index+1}}</mat-label>
                    <input matInput type="text"  [formControlName]="$index" >
                 </mat-form-field>
               }
             </div>

            
          </div>
          @if(isEdit){
            <div class="w-full flex justify-center">
               <button mat-raised-button color="primary" [disabled]="productForm.invalid"  (click)="update()" >Update</button>
            </div>
          }
          @else{
            <div class="w-full flex justify-center">
               <button mat-raised-button color="primary" [disabled]="productForm.invalid"  (click)="add()" >Add</button>
            </div>
          }
         
   
</div>
</form>
</div>